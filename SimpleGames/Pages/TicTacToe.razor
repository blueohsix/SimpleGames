@page "/tictactoe"

@functions{
    Board board { get; set; } = new Board(3);
}

<div class="w3-row">
    <h1 class="w3-padding">TicTacToe</h1>
    @{
        <div class="w3-container w3-col s12 m6 l4 w3-padding">
            <table class="w3-table">
                @for (int i = 0; i < board.Size; i++)
                {
                    <tr>
                        @for (int j = 0; j < board.Size; j++)
                        {
                            var first = i;
                            var second = j;
                            var cell = board.Grid[first, second];
                            <td class="w3-border w3-center">
                                <label class="w3-button w3-xlarge w3-hover-sand w3-padding" @onclick="@(e => board.Move(e ,cell.Location, board))">
                                    @board.Grid[first, second].Symbol
                                </label>
                            </td>
                        }
                    </tr>
                }
            </table>
        </div>
    }
    <div id="boardSize" class="w3-container w3-col s12 m6 l4 w3-padding w3-center">
        <button type="submit" class="w3-button w3-green" @onclick="@(e => board.ResetBoard(board))">Reset Board</button>

    </div>
    <div class="w3-container w3-col s12 m6 l4 w3-margin-bottom">
        <p>
            This game is built in ASP.Net Core Blazor and utilizes an onclick event handler to change the board.
        </p>
    </div>
</div>